---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Inventory API

IQM's advanced algorithm deterines the most relevant ads to display to a user based on their activity and the content of a given page. Inventories provide advertisers a way to organize collecions or groups based on criteria such as ad format, placement type, targeting options, and other attributes. Private Marketplace (PMP) deals and Programmatic Guarantee (PG) deals are arranged so advertisers can purchase ad inventory. This page will cover common methods and endpoints associated with **Inventories**, **PMP Deals**, **PG Deals**, and **Groups**.

## Authorization

Use the following header parameters for all requests:

<div class="container">
  <div class="child3">

| Headers  |  |
| ----  | --- |
| `Authorization` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Authorization bearer token <br />See [Authentication Guide](/docs/Quickstart%20Guides/Authentication-Quickstart-Guide) |
| `X-IAA-OW-ID` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Organization Worskpace ID Header |

</div></div>

## Get Inventory Details

Inventories are collections of all inventory sources.

Use the following endpoints to get details for various aspects of inventories, filtered by query parameters:

<div class="container">
  <div class="child3">

<details>
<summary>Query Parameters</summary>

| Query Parameters|  |
| ---- | --- |
| `keywords` <br /><span class="type-text">string</span> | Keywords to search inventory list |
| `countries` <br /><span class="type-text">string</span> | Filter by country |
| `categories` <br /><span class="type-text">string</span> | Filter by category |
| `inventoryTypes` <br /><span class="type-text">string</span> | Filter by inventory type |
| `creativeSizes` <br /><span class="type-text">string</span> | Filter by creative size |
| `creativeTypes` <br /><span class="type-text">string</span> | Filter by creative type |
| `creativeDurations` <br /><span class="type-text">string</span>| Filter by creative duration |
| `trafficTypes` <br /><span class="type-text">string</span> | Filter by traffic type |
| `deviceTypes` <br /><span class="type-text">string</span> | Filter by device type |
| `exchanges` <br /><span class="type-text">string</span> | Filter by exchange |
| `videoPlayerSizes` <br /><span class="type-text">string</span> | Filter by video player size |
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of entries per page |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data |
| `groupId` <br /><span class="type-text">integer</span> | Group ID |

</details>

</div></div>

---

### Get List of Inventories

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/inventories/list</span>

<div class="container">
  <div class="child1">

Get a list of inventories available to user.

See [supported query parameters](#get-inventory-details). 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "inventoryDataList": [
      {
        "id": 3510,
        "name": "Test Inv 1234",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Other App",
        "impressions": 7397885,
        "reach": 5257,
        "videoPercentage": 100,
        "displayPercentage": 0
      },
      {
        "id": 4746,
        "name": "Test Old TV 345",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Other App",
        "impressions": 428882,
        "reach": 31291,
        "videoPercentage": 100,
        "displayPercentage": 0
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage. 

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          publisher: string;
          appId: string;
          inventoryType: string;
          impressions: number;
          reach: number;
          videoPercentage: number;
          displayPercentage: number;
        }[];
      };
    };
  };
}

function getInventoriesDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3//inv/inventories/list',
    params: {
      query?: {
        keywords?: `string`,
        countries?: `string`,
        categories?: `string`,
        inventoryTypes?: `string`,
        creativeSizes?: `string`,
        creativeTypes?: `string`,
        creativeDurations?: `string`,
        trafficTypes?: `string`,
        deviceTypes?: `string`,
        exchanges?: `string`,
        videoPlayerSizes?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`,
        groupId?: `number`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Inventory Distribution

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/inventories/distributions</span>

<div class="container">
  <div class="child1">

Get distributions of inventory available for user across country and other parameters. 

See [supported query parameters](#get-inventory-details). 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "countries": [
      {
        "label": "United States",
        "value": 90.58
      },
      {
        "label": "Brazil",
        "value": 1.23
      },
      {
        "label": "Germany",
        "value": 0.79
      },
      {
        "label": "France",
        "value": 0.75
      },
      {
        "label": "United Kingdom",
        "value": 0.62
      }
    ],
    "trafficTypes": [
      {
        "label": "App",
        "value": 62.85
      },
      {
        "label": "Web",
        "value": 37.15
      }
    ],
    "creativeTypes": [
      {
        "label": "Video",
        "value": 47.47
      },
      {
        "label": "Banner",
        "value": 40.96
      },
      {
        "label": "Native",
        "value": 6.38
      },
      {
        "label": "Audio",
        "value": 5.19
      }
    ],
    "deviceTypes": [
      {
        "label": "Mobile",
        "value": 43.53
      },
      {
        "label": "Connected TV",
        "value": 37.69
      },
      {
        "label": "Desktop",
        "value": 15.08
      },
      {
        "label": "Tablet",
        "value": 3.57
      },
      {
        "label": "Unknown",
        "value": 0.13
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          countries: {
            label: string;
            value: number;
          }[];
          trafficTypes: {
            label: string;
            value: number;
          }[];
          creativeTypes: {
            lable: string;
            value: number;
          }[];
          deviceTypes: {
            label: string;
            value: number;
          }
        };
      };
    };
  };
}

function getInventoriesDistributionDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3//inv/inventories/distributions',
    params: {
      query?: {
        keywords?: `string`,
        countries?: `string`,
        categories?: `string`,
        inventoryTypes?: `string`,
        creativeSizes?: `string`,
        creativeTypes?: `string`,
        creativeDurations?: `string`,
        trafficTypes?: `string`,
        deviceTypes?: `string`,
        exchanges?: `string`,
        videoPlayerSizes?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Inventories Count

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/inventories/count</span>

<div class="container">
  <div class="child1">

Get count of unique inventories, unique publishers, total number of impressions, and total reach of all inventories. 

See [supported query parameters](#get-inventory-details).

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "reach": 7983863253,
    "publishers": 2010,
    "impressions": 119273056646,
    "inventories": 1387184
  }
}
```

<details>

<summary>More Response Samples</summary>

```json title="Response 403"
{
  "success": false,
  "errorObjects": [
    {
      "error": "User is not allowed to access provided inventory group."
    }
  ]
}
```

</details>

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          reach: number;
          publishers: number;
          impressions: number;
          inentories: number;
        };
      };
    };
  };
}

function getInventoriesCountDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3//inv/inventories/count',
    params: {
      query?: {
        keywords?: `string`,
        countries?: `string`,
        categories?: `string`,
        inventoryTypes?: `string`,
        creativeSizes?: `string`,
        creativeTypes?: `string`,
        creativeDurations?: `string`,
        trafficTypes?: `string`,
        deviceTypes?: `string`,
        exchanges?: `string`,
        videoPlayerSizes?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Inventory Group Types

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/inventory-group-types</span>

<div class="container">
  <div class="child1">

Get list of inventory group types.

  </div>
  <div class="child2">

  <Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "inventoryGroupTypeList": [
      {
        "name": "Open Exchange",
        "id": 1,
        "order": 1
      },
      {
        "name": "PMP Deals",
        "id": 1,
        "order": 1
      },
      {
        "name": "Contextual Inventory",
        "id": 2,
        "order": 2
      }
    ],
    "totalRecords": 3,
    "filteredRecords": 3
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          inventoryGroupTypeList: {
            name: string;
            id: number;
            order: number;
          }[];
          totalRecords: number;
          filteredRecords: number;
        };
      };
    };
  };
}

function getInventoryGroupTypes(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3//inv/inventory-group-types',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---


### Get List of Blocked Inventories

<span class="badge badge--primary">GET</span> <span class="path-text">api/v3/inv/blocked-inventories</span>

<div class="container">
  <div class="child1">

Blocklisted inventories refer to digital media placements or websites that are deemed inappropriate (adult content, hate speech, misaleading information) or of low quality (low engagement, poor user experience).

| Query Parameters|  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Search result by keyword |
| `inventoryIds` <br /><span class="type-text">string</span> | Filter inventories by inventory ID |
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of entries per page, default: `200` |
| `pageNo`<br /><span class="type-text">integer</span> | Number of pages for retrieved data, default: `1` |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "globalBlockedInventoryData": [
            {
                "id": 35109,
                "name": "Pluto TV - It's Free TV",
                "publisher": "UNKNOWN",
                "appId": "74519",
                "inventoryType": "Other App",
                "comment": "This is the comment for this inventory",
                "impressions": 0,
                "uniques": 0,
                "videoPercentage": 0,
                "displayPercentage": 0
            }
        ]
    },
    "globalBlockedInventoryIds": 1,
    "filteredRecords": 13
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          globalBlockedInventoryData: {
            id: number;
            name: string;
            publisher: string;
            inventoryType: string;
            comment: string;
            impressions: number;
            uniques: number;
            videoPercentage: number;
            displayPercentage: number;
          }[];
          globalBlockedInventoryIds: number;
          filteredRecords: number;
        };
      };
    };
  };
}

function getBlockedInventories(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3//inv/blocked-inventories',
    params: {
      query: {
        searchField: `string`,
        inventoryIds: `string`,
        noOfEntries: `number`,
        pageNo: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Inventory Management

Optimize inventories for specific campaigns, download detailed inventory files, or block inventories.

### Campaign Inventory Optimization

<span class="badge badge--success">POST</span> <span class="path-text">/api/v2/inv/inventories/includeExclude</span>

<div class="container">
  <div class="child1">

Inventories can be optimized for specific campaign IDs.

| Request Schema |  |
| ---- | --- |
| `campaignId` <br /><span class="type-text">integer</span> | Campaign ID to target for optimization |
| `ids` <br /><span class="type-text">string</span>| Comma separated strings of inventory IDs to include in or exclude from specified campaign |
| `isExcluded` <br /><span class="type-text">integer</span> | Include in campaign: `0`<br /> Exclude from campaign: `1` |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "campaignId": 168622,
    "ids": "1,2,3,4",
    "isExcluded": 0
}
```

```json title="Response 200"
{
    "statusCode": 200,
    "responseObject": {
        "message": "Inventories Included."
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        statusCode: number;
        responseObject: {
          message: string;
        };
      };
    };
  };
}

function Inventory-AddInclude/Exclude(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v2/inv/inventories/includeExclude',
    requestBody: {
      content: {
        "application/json": {
          campaignId: `number`,
          ids: `string`,
          isExcluded: `number`
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Block Inventories

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/inv/inventories/block</span>

<div class="container">
  <div class="child1">

Inventories can be blocked at the account level by ID or search field.

| Request Schema |  |
| ---- | --- |
| `inventoryIds` <br /><span class="type-text">array of integers</span> | Inventory IDs to block |
| `searchField` <br /><span class="type-text">string</span> | Block inventories by searched keyword |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "inventoryIds": [
        0,
        1,
        5
    ]
}
```

```json title="Response 200"
{
    "success": true,
    "data": "Inventories blocked successfully."
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        statusCode: number;
        responseObject: {
          message: string;
        };
      };
    };
  };
}

function addInventoriesToBlockedList(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/inventories/block',
    requestBody: {
      content: {
        "application/json": {
          inventoryIds: `number`,
          searchField: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download CSV Inventory List

<span class="badge badge--success">POST</span> <span class="path-text">api/v3/inv/inventories/open-exchange/download</span>

<div class="container">
  <div class="child1">

Get a CSV inventory list based on desired filters. 

| Query Parameters |  |
| ---- | --- |
| `keywords` <br /><span class="type-text">string</span> | Filters by list of keywords |
| `countries` <br /><span class="type-text">string</span>| Filters by list of countries |
| `categories` <br /><span class="type-text">string</span> | Filters by categories |
| `inventoryTypes` <br /><span class="type-text">string</span> | Filters by inventory type |
| `creativeSizes` <br /><span class="type-text">string</span> | Filters by creative sizes |
| `creativeDurations` <br /><span class="type-text">string</span> | Filters by creative durations | 
| `trafficTypes` <br /><span class="type-text">string</span> | Filters by traffic type | 
| `deviceTypes` <br /><span class="type-text">string</span>| Filters by device type |
| `exchanges` <br /><span class="type-text">string</span> | Filters by exchanges | 
| `videoPlayerSizes` <br /><span class="type-text">string</span> | Filters by video player size |
| `isCsvSearch` <br /><span class="type-text">boolean</span> | `true` if CSV file uploaded for query, otherwise `false` |
| `fileType` <br /><span class="type-text">string</span> | File type to download: `csv` or `xlsx` |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "multipartFile": "string"
}
```

```json title="Response 200"
{
  "success": true,
  "data": "https://iqm-ephemeral-2aca615e13f8-stage.s3.amazonaws.com/inventory/download/csv/Yash%20org%202_1720435555550.csv?response-expires-Amz-Credential"
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: string;
      };
    };
  };
}

function downloadOpenExchangeInventoryDetails(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/inventories/open-exchange/download',
    params: {
      query: {
        keywords?: `string`,
        countries?: `string`,
        categories?: `string`,
        inventoryTypes?: `string`,
        creativeSizes?: `string`,
        creativeTypes?: `string`,
        creativeDurations?: `string`,
        trafficTypes?: `string`,
        deviceTypes?: `string`,
        exchanges?: `string`,
        videoPlayerSizes?: `string`,
        isCsvSearch: `boolean`,
        fileType: `string`,
      }
    },
    requestBody: {
      content: {
        "application/json": {
          multipartFile?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Inventory Based on CSV File

<span class="badge badge--success">POST</span> <span class="path-text">api/v3/inv/inventories/csv/list</span>

<div class="container">
  <div class="child1">

Get paginated list of inventory based on provded CSV file. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "domainsFile": "string"
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "matchedInventories": [
      {
        "id": 3510,
        "name": "Test Inv 1234",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Other App",
        "impressions": 7397885,
        "reach": 5257,
        "videoPercentage": 100,
        "displayPercentage": 0
      },
      {
        "id": 4746,
        "name": "Test Old TV 345",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Other App",
        "impressions": 428882,
        "reach": 31291,
        "videoPercentage": 100,
        "displayPercentage": 0
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          matchedInventories: {
            id: number;
            name: string;
            publisher: string;
            appId: string;
            inventoryType: string;
            impressions: number;
            reach: number;
            videoPercentage: number;
            displayPercentage: number;
          }[];
        }
      };
    };
  };
}

function getInventoriesByCSV(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/inventories/csv/list',
    requestBody: {
      content: {
        "application/json": {
          domainsFile?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Distribution of Inventory Based on CSV File

<span class="badge badge--success">POST</span> <span class="path-text">api/v3/inv/inventories/csv/distributions</span>

<div class="container">
  <div class="child1">

Get distribution of inventory available to user across countries, creative types, device types, traffic types, based on provided CSV file. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "domainsFile": "string"
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "countries": [
      {
        "label": "United States",
        "value": 90.58
      },
      {
        "label": "Brazil",
        "value": 1.23
      },
      {
        "label": "Germany",
        "value": 0.79
      },
      {
        "label": "France",
        "value": 0.75
      },
      {
        "label": "United Kingdom",
        "value": 0.62
      }
    ],
    "trafficTypes": [
      {
        "label": "App",
        "value": 62.85
      },
      {
        "label": "Web",
        "value": 37.15
      }
    ],
    "creativeTypes": [
      {
        "label": "Video",
        "value": 47.47
      },
      {
        "label": "Banner",
        "value": 40.96
      },
      {
        "label": "Native",
        "value": 6.38
      },
      {
        "label": "Audio",
        "value": 5.19
      }
    ],
    "deviceTypes": [
      {
        "label": "Mobile",
        "value": 43.53
      },
      {
        "label": "Connected TV",
        "value": 37.69
      },
      {
        "label": "Desktop",
        "value": 15.08
      },
      {
        "label": "Tablet",
        "value": 3.57
      },
      {
        "label": "Unknown",
        "value": 0.13
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          countries: {
            label: string;
            value: number;
          }[];
          trafficTypes: {
            label: string;
            value: number;
          }[];
          creativeTypes: {
            label: string;
            value: number;
          }[];
          deviceTypes: {
            label: string;
            value: number;
          }[];
        }
      };
    };
  };
}

function getInventoriesDistributionsByCSV(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/inventories/csv/distributions',
    requestBody: {
      content: {
        "application/json": {
          domainsFile?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Inventory Count Based on CSV File

<span class="badge badge--success">POST</span>  <span class="path-text">api/v3/inv/inventories/csv/count</span>

<div class="container">
  <div class="child1">

Get inventory count based on provided CSV file. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "domainsFile": "string"
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "reach": 7983863253,
    "publishers": 2010,
    "impressions": 119273056646,
    "inventories": 1387184
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          reach: number;
          publishers: number;
          impressions: number;
          inventories: number;
        }
      };
    };
  };
}

function getInventoriesCountByCSV(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/inventories/csv/count',
    requestBody: {
      content: {
        "application/json": {
          domainsFile?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>


## Inventory Groups

An inventory group refers to a collection or grouping of inventory sources categorized by specific criteria such as ad format, placement type, targeting options, or other attributes. There are three types of inventory group: **Open Exchange**, **PMP Deals**, and **Contextual Inventory**. This section will cover common methods and endpoints for managing inventory groups.

### Get List of Inventory Groups

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/list</span>

<div class="container">
  <div class="child1">

Get a list of inventory groups based on various filters and parameters.

| Query Parameters |  |
| ---- | --- |
| `groupFilterId` <br /><span class="type-text">integer</span> | Filters groups list. Supported values: <br />All Groups [default]: `0` <br />Share by Admin: `1` <br />Own Groups: `2` |
| `groupTypeIds` <br /><span class="type-text">string</span> | Filters groups list. Supported values: <br />Open Exchange: `1` <br />PMP: `2` <br />Contextual: `3` |
| `ids` <br /><span class="type-text">string</span> | Comma separated IDs
| `provideAccountLevelExcludedGroup` <br /><span class="type-text">boolean</span> | Flag to indicate whether to include account-level excluded group in response or not, default: `false` |
| `includeStatistics` <br /><span class="type-text">boolean</span> | Flag to indicate whether to include statistics in response or not, default: `true` |
| `excludeEmptyGroups` <br /><span class="type-text">boolean</span> | Flag to indicate whether to include empty groups in response or not, default: `false` |
| `searchField` <br /><span class="type-text">string</span>| Searches by name |
| `pageSize` <br /><span class="type-text">integer</span> | Maximum number of entries per page |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data |
| `owId` <br /><span class="type-text">integer</span> | Organization Workspace ID |
| `sortBy` <br /><span class="type-text">string</span> | Sort entries by ascending (`+`) or descending (`-`) |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "totalRecords": 371,
        "filteredRecords": 6,
        "inventoryGroupList": [
        {
            "groupTypeId": 1,
            "created": 1720032375,
            "modifiedDate": "2024-07-03T13:18:26.935+0000",
            "owId": 201427,
            "impressions": 0,
            "isAccountLevelExcluded": null,
            "campaignWhitelistCount": 0,
            "campaignBlacklistCount": 0,
            "whiteListedCampaignIds": [
                503885,
                486112,
                478890
            ],
            "blackListedCampaignIds": [],
            "publishers": 0,
            "sharedCount": 0,
            "uniques": 0,
            "reach": 0,
            "inventories": 0,
            "deals": 0,
            "contextualInventories": 0,
            "count": 0,
            "id": 176178,
            "name": "Inventory Group - Open exchange - 3 campaign",
            "isShared": false
        }
        ]
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          inventoryGroupList: {
            groupTypeId: number;
            created: number;
            modifiedDate: string;
            owId: number;
            impressions: number;
            isAccountLevelExcluded: boolean;
            campaignWhitelistCount: number;
            campaignBlacklistCount: number;
            whiteListedCampaignIds: number[];
            blackListedCampaignIds: number[];
            publishers: number;
            sharedCount: number;
            uniques: number;
            reach: number;
            inventories: number;
            deals: number;
            contextualInventories: number;
            count: number;
            id: number;
            name: string;
            isShared: boolean;
          }[];
        }
      };
    };
  };
}

function getInventoryGroups(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/groups/list',
    params: {
      query?: {
        groupFilterId?: `number`,
        groupTypeIds?: `string`,
        ids?: `string`,
        provideAccountLevelExcludedGroup?: `boolean`,
        includeStatistics?: `boolean`,
        excludeEmptyGroups?: `boolean`,
        searchField?: `string`,
        pageSize?: `number`,
        pageNo?: `number`,
        owId?: `number`,
        sortBy?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Inventory Groups Statistics

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/statistics</span>

<div class="container">
  <div class="child1">

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalInventoryGroups": 371,
    "includedGroups": 296,
    "excludedGroups": 92,
    "unUsedGroups": 75
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          totalInventoryGroups: number;
          includedGroups: number;
          excludedGroups: number;
          unUsedGroups: number;
        }
      };
    };
  };
}

function getInventoryGroupsStatistics(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/groups/statistics',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Campaigns Attached to Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/shared/campaigns/list</span>

<div class="container">
  <div class="child1">

| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    286107,
    284229,
    287201,
    287202
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: number[];
      };
    };
  };
}

function getSharedGroupCampaignList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/shared/campaign/list',
    params: {
      path: {
        groupId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of PMP Deals In an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/pmp-deals</span>

<div class="container">
  <div class="child1">

| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |
| `noOfEntries` | Maximum number of entries per page, default: `50` |
| `pageNo` | Page number |
| `sortBy` | Sorts by ascending (`+`) or descending (`-`)

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "pmpDealData": [
      {
        "id": 345,
        "dealId": "070621-Test Deal-MS@15",
        "dealName": "0670621 Test Deal 15",
        "description": "test desc",
        "cpm": 2,
        "dealTypeId": 2,
        "creativeTypes": [
          "HTML",
          "Audio"
        ],
        "exchanges": [
          "Rubicon"
        ],
        "active": true,
        "created": 1623076958,
        "modifiedDate": "2021-06-08T11:27:30.549+0000",
        "applicableTo": [],
        "userName": null,
        "isPublic": true
      }
    ],
    "totalRecords": 6,
    "filteredRecords": 6
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          pmpDealData: {
            id: number;
            dealId: string;
            dealName: string;
            description: string;
            cpm: number;
            dealTypeId: number;
            creativeTypes: string[];
            exchanges: string[];
            active: boolean;
            created: number;
            modifiedDate: string;
            applicableTo: string[];
            userName: string;
            isPublic: boolean;
          }[];
          totalRecords: number;
          filteredRecords: number;
        }
      };
    };
  };
}

function getGroupPMPDeals(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/pmp-deals',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`,
        sortBy?: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get CSV List of PMP Deals In an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/pmp-deals/csv</span> 

<div class="container">
  <div class="child1">

| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |
| `sortOrder` | Sorts by ascending (`asc`) or, default: descending (`desc`) |
| `sortBy` | Sort by parameter, default: `created` |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"

```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": unknown;
    };
  };
}

function generateGroupPMPDealsFile(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/pmp-deals/csv',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
        sortOrder?: `string`,
        sortBy?: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Open Exchange Inventories In an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/open-exchange-inventories</span> 

<div class="container">
  <div class="child1">

| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |
| `noOfEntries` | Maximum number of entries per page, default: `50` |
| `pageNo` | Page number |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 3,
    "filteredRecords": 3,
    "openExchangeInventoryData": [
      {
        "id": 52982,
        "name": "gazeta.pl",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Site",
        "impressions": 25738,
        "reach": 2128,
        "videoPercentage": 18.29979,
        "displayPercentage": 77.989743
      },
      {
        "id": 52983,
        "name": "protopage.com",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Site",
        "impressions": 4315,
        "reach": 322,
        "videoPercentage": 0,
        "displayPercentage": 100
      },
      {
        "id": 52986,
        "name": "gwiazdy.wp.pl",
        "publisher": "UNKNOWN",
        "appId": "INVENTORY",
        "inventoryType": "Site",
        "impressions": 516,
        "reach": 58,
        "videoPercentage": 4.651163,
        "displayPercentage": 87.596899
      }
    ],
    "uniqueRecords": 3
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          openExchangeInventoryData: {
            id: number;
            name: string;
            publisher: string;
            appId: string;
            impressions: number;
            reach: number;
            videoPercentage: number;
            displayPercentage: number
          }[];
          uniqueRecords: number;
        }
      }
    };
  };
}

function getGroupInventories(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/open-exchange-inventories',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Distributions of Open Exchange Inventories In an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/open-exchange-inventories/distributions</span>

<div class="container">
  <div class="child1">

| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "trafficTypes": [
      {
        "label": "Web",
        "value": 100
      }
    ],
    "countries": [
      {
        "label": "United States",
        "value": 98.86
      },
      {
        "label": "Netherlands",
        "value": 0.98
      },
      {
        "label": "Canada",
        "value": 0.08
      },
      {
        "label": "Ecuador",
        "value": 0.03
      },
      {
        "label": "Virgin Islands, U.S.",
        "value": 0.03
      }
    ],
    "deviceTypes": [
      {
        "label": "Desktop",
        "value": 87.68
      },
      {
        "label": "Mobile",
        "value": 9.27
      },
      {
        "label": "Tablet",
        "value": 3.06
      }
    ],
    "creativeTypes": [
      {
        "label": "Banner",
        "value": 81.26
      },
      {
        "label": "Video",
        "value": 15.49
      },
      {
        "label": "Native",
        "value": 3.25
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
         trafficTypes: {
          label: string;
          value: number;
         }[];
         countries: {
           label: string;
           value: number;
         }[];
         deviceTypes: {
           label: string;
           value: number;
         }[];
         creativeTypes: {
           label: string;
           value: number;
         }[];
        }
      }
    };
  };
}

function getGroupInventoriesDistributions(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/open-exchange-inventories/distributions',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Count of Open Exchange Inventories In an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/open-exchange-inventories/count</span>

<div class="container">
  <div class="child1">

  
| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "inventories": 3,
    "reach": 2689,
    "publishers": 1,
    "impressions": 30569
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          inventories: number;
          reach: number;
          publishers: number;
          impressions: number
        }
      }
    };
  };
}

function getGroupInventoriesStatistics(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/open-exchange-inventories/count',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Contextual Inventories For an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/contextual-inventories</span>

<div class="container">
  <div class="child1">

  | Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |
| `noOfEntries` | Maximum number of entries per page, default: `50` |
| `pageNo` | Page number |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "data": [
      {
        "id": 42486,
        "inventory": "law business",
        "contextualType": 1
      }
    ],
    "totalRecords": 2,
    "filteredRecords": 1
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          inventory: string;
          contextualType: number;
        }[];
        totalRecords: number;
        filteredRecords: number;
      }
    };
  };
}

function getContextualInventoriesForGroup(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/contextual-inventories',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
        noOfEntries?: `string`,
        pageNo?: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Count of Contextual Inventories For an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/contextual-inventories/count</span>

<div class="container">
  <div class="child1">

    
| Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "contextualUrlCount": 0,
    "contextualKeywordCount": 1
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          contextualUrlCount: number;
          contextualKeywordCount: number;
        }
      };
    };
  }
}

function getContextualInventoriesForGroupCount(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/contextual-inventories/count',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get CSV File of Contextual Inventories For an Inventory Group

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/groups/api/v3/group/\{groupId\}/contextual-inventories/csv</span>

<div class="container">
  <div class="child1">

  | Path Parameter | |
| --- | --- |
| `groupId` | Group ID |

| Query Parameter | |
| --- | --- |
| `searchField` | Search inventory by group name |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title=""

```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": unknown;
    };
  };
}

function generateGroupContextualInventoriesFile(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/contextual/inventories/csv',
    params: {
      path: {
        groupId: `number`
      },
      query: {
        searchField?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Contextual Inventory

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/contextual/recommend</span>
<br /><span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/contextual/autosuggest</span>

<div class="container">
  <div class="child1">

Get recommended keywords or autocompleted keywords.

| Query Parameters |  |
| ---- | --- |
| `keyword` <br /><span class="type-text">string</span> | Suggestion or Recommendation will be made based on this keyword | 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": [
        "sport",
        "business",
        "play"
    ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string[];
      }
    };
  };
}

function getRecommendedKeywords(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/contextual/recommend',
    params: {
      query: {
        keyword?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}

function getAutoSuggestKeywords(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/contextual/autosuggest',
    params: {
      query: {
        keyword?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## Inventory Group Management

Update details or delete group inventories.

### Create a New Inventory Group

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/inv/groups</span>

<div class="container">
  <div class="child1">

Add a new inventory group based on the provided request body.

| Request Schema |  |
| ---- | --- |
| `groupName` <br /><span class="type-text">integer</span> | Desired name for group |
| `groupTypeId` <br /><span class="type-text">integer</span>| Group type. Supported values: <br />Open Exchange: `1` <br />PMP: `2` <br />Contextual: `3` |
| `inventoryIds` <br /><span class="type-text">array of integers</span> | Inventory to include in group |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "groupName": "Inventory Group - Open exchange",
    "groupTypeId": 1,
    "inventoryIds": [
        35132,
        4107192
    ]
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "groupTypeId": 1,
        "created": 1719836234,
        "modifiedDate": "2024-07-01T12:17:20.295+0000",
        "owId": 201427,
        "impressions": 2334725782,
        "isAccountLevelExcluded": false,
        "campaignWhitelistCount": 0,
        "campaignBlacklistCount": 0,
        "whiteListedCampaignIds": [],
        "blackListedCampaignIds": [],
        "publishers": 56,
        "sharedCount": 0,
        "uniques": 0,
        "reach": 154976228,
        "inventories": 0,
        "deals": 0,
        "contextualInventories": 0,
        "count": 2,
        "id": 174594,
        "name": "Inventory Group - Open exchange",
        "isShared": false
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          groupTypeId: number;
          created: number;
          modifiedDate: string;
          owId: number;
          impressions: number;
          isAccountLevelExcluded: boolean;
          publishers: number;
          sharedCount: number;
          uniques: number;
          reach: number;
          inventories: number;
          deals: number;
          contextualInventories: number;
          count: number;
          id: number;
          name: string;
          isShared: boolean
        }
      }
    };
  };
}

function addInventoryGroup(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/groups',
    requestBody: {
      content: {
        "application/json": {
          groupTypeId?: `number`,
          isAllInventories?: `boolean`,
          groupName: `string`,
          isEmptyGroup?: `boolean`,
          inventoryTypeId?: `number`,
          inventoryIds?: `array of numbers`,
          dealIds?: `array of numbers`,
          contextualUrls?: `array of strings`,
          contextualKeywords?: `array of strings`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Add or Remove Mappings to an Inventory Group

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/inv/group/addMappings</span>
<br /><span class="badge badge--success">POST</span><span class="path-text">/api/v3/inv/group/removeMappings</span>

<div class="container">
  <div class="child1">

Add or Remove inventories (Open Exchange, Private Deals, Contextual) to a group or multiple groups.

Inventories can be added/removed by filtering for results, inputting `dealIds`, contextual details, or `inentoryIds`.


<details>
<summary>Add/Remove by filter</summary>

| Request Schema  |  |
| ----  | --- |
| `groupIds` <br /><span class="type-text">array of integers</span> | Group IDs to add mappings to |
| `keywords` <br /><span class="type-text">array of integers</span>  | Filters by keyword | 
| `countries` <br /><span class="type-text">array of integers</span>  | Filters by country |
| `categories` <br /><span class="type-text">array of integers</span>  | Filter by category |
| `inventoryTypes` <br /><span class="type-text">array of integers</span>  | Filter by inventory type |
| `creativeSizes` <br /><span class="type-text">array of integers</span>  | Filter by creative size |
| `creativeTypes` <br /><span class="type-text">array of integers</span>  | Filter by creative types |
| `trafficTypes` <br /><span class="type-text">array of integers</span>  | Filter by traffic types |
| `deviceTypes` <br /><span class="type-text">array of integers</span>  | Filter by device types |
| `videoPlayerSizes` <br /><span class="type-text">array of integers</span>  | Filter by video player sizes |
| `isAllInventories` | <br /><span class="type-text">boolean</span>  | 

</details>

<details>
<summary>Add/Remove by Deal ID</summary>

| Request Schema |  |
| ----  | --- |
| `groupIds` <br /><span class="type-text">array of integers</span>  | Group IDs to add mappings to |
| `dealIds` <br /><span class="type-text">array of integers</span>  | Deal IDs to add to group |

</details>

<details>
<summary>Add/Remove by Contextual Inventories</summary>

| Request Schema |  |
| ---- | --- |
| `groupIds` <br /><span class="type-text">array of integers</span>  | Group IDs to add mappings to |
| `contextualKeywords` <br /><span class="type-text">array of strings</span>  | Names of Contextual Inventories |
| `contextualUrls` <br /><span class="type-text">array of strings</span>  | URLs of Contextual Inventories |

</details>

<details>
<summary>Add/Remove by Inventory ID</summary>

| Request Schema  |  |
| ---- | --- |
| `groupIds` <br /><span class="type-text">array of integers</span> | Group IDs to add mappings to |
| `inventoryIds` <br /><span class="type-text">array of integers</span>  | Inventory IDs to add to group |

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": [
        {
            "groupTypeId": 1,
            "created": 1719983099,
            "modifiedDate": "2024-07-03T07:35:45.800+0000",
            "owId": 202017,
            "impressions": 7927783118,
            "isAccountLevelExcluded": false,
            "whiteListedCampaignIds": null,
            "blackListedCampaignIds": null,
            "publishers": 59,
            "sharedCount": 1,
            "uniques": 0,
            "reach": 558137549,
            "inventories": 0,
            "deals": 0,
            "contextualInventories": 0,
            "count": 2,
            "id": 176130,
            "name": "Open Exchange Inventories Group",
            "isShared": true
        }
    ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          groupTypeId: number;
          created: number;
          modifiedDate: string;
          owId: number;
          impressions: number;
          isAccountLevelExcluded: boolean;
          publishers: number;
          sharedCount: number;
          uniques: number;
          reach: number;
          inventories: number;
          deals: number;
          contextualInventories: number;
          count: number;
          id: number;
          name: string;
          isShared: boolean
        }
      }
    };
  };
}

function addMappingsToInventoryGroups(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/group/addMappings',
    requestBody: {
      content: {
        "application/json": {
          groupName: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}

function removeMappingsOfInventoryGroup(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/group/removeMappings',
    requestBody: {
      content: {
        "application/json": {
          inventoryTypeId?: `number`,
          searchField?: `string`,
          excludedInventoryIds?: `array of numbers`,
          allInventories?: `boolean`,
          groupTypeId?: `number`,
          groupId?: `number`,
          inventoryIds?: `array of numbers`,
          dealIds?: `array of numbers`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Add or Remove Customers From a Shared Inventory Group

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/inv/group/\{groupId\}/shared/customers/edit</span>

<div class="container">
  <div class="child1">

Add or remove customers from an inventory group by group ID with the following endpoint: 

| Path Parameters |  |
| ---- | --- |
| `groupId` <br /><span class="type-text">integer</span> | Group ID |

| Request Schema |  |
| ---- | --- |
| `addOwIds` <br /><span class="type-text">array of integers</span> | Organization Worskpace IDs to add to Inventory Group |
| `removeOwIds` <br /><span class="type-text">array of integers</span> | Organization Workspace IDs to remove from Inventory Group |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "addOWIds": [
        200425,
        200495,
        200496
    ],
    "removeOWIds": [
        200929,
        200931,
        200963,
        200964
    ]
}
```

```json "Response 200"
{
    "success": true,
    "data": "Your changes have been successfully saved."
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string
      }
    };
  };
}

function editSharedGroupMapping(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/inv/group/{groupId}/shared/customers/edit',
    params: {
      path: {
        groupId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          addOWIds?: `array of numbers`,
          removeOWIds?: `array of numbers`
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Edit Inventory Group

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/inv/groups/\{groupId\}</span>

<div class="container">
  <div class="child1">

Edit an inventory group.

| Path Parameters  |  |
| ---- | --- |
| `groupId` <br /><span class="type-text">integer</span> | Group ID |

| Request Schema |  |
| ----  | --- |
| `groupName` <br /><span class="type-text">string</span> | Name of group |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "groupName": "Open exchange Group - updated"
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "groupTypeId": null,
        "created": null,
        "modifiedDate": null,
        "owId": 0,
        "impressions": 0,
        "isAccountLevelExcluded": null,
        "campaignWhitelistCount": 0,
        "campaignBlacklistCount": 0,
        "whiteListedCampaignIds": null,
        "blackListedCampaignIds": null,
        "publishers": 0,
        "sharedCount": 0,
        "uniques": 0,
        "reach": 0,
        "inventories": 0,
        "deals": 0,
        "contextualInventories": 0,
        "count": 0,
        "id": 176168,
        "name": "Open exchange Group - updated",
        "isShared": false
    }
}
```

<details>
<summary>More Responses</summary>

```json title="Response 403"
{
    "success": false,
    "errorObjects": [
        {
        "error": "Forbidden!"
        }
    ]
}
```

```json title="Response 422"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Inventory group name can not have more than 255 characters.",
            "field": "groupName"
        }
    ]
}
```

```json title="Response 500"
{
    "success": false,
    "errorObjects": [
        {
            "error": "server encountered an error !"
        }
    ]
}
```

</details>

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          groupTypeId: number;
          created: number;
          modifiedDate: string;
          owId: number;
          impressions: number;
          isAccountLevelExcluded: boolean;
          publishers: number;
          sharedCount: number;
          uniques: number;
          reach: number;
          inventories: number;
          deals: number;
          contextualInventories: number;
          count: number;
          id: number;
          name: string;
          isShared: boolean
        }
      }
    };
  };
}

function editInventoryGroup_1(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/inv/groups/{groupId}',
    params: {
      path: {
        groupId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          groupName: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete Inventory Group

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/inv/groups/\{groupId\}</span>

<div class="container">
  <div class="child1">

Delete an existing inventory group.

| Path Parameters |  |
| ---- | --- |
| `groupId` <br /><span class="type-text">integer</span> | Group ID |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": "Inventory group deleted successfully."
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string
      }
    };
  };
}

function deleteInventoryGroup(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/inv/groups/{groupId}/',
    params: {
      path: {
        groupId: `number`
      }
    },
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## Private Marketplace (PMP) Deals Details

Private Marketplace Deals are a type of programmatic advertising arrangement that allows advertisers to purchase ad inventory through a private, invitation-only auction. This section will cover common methods and endponts associated with PMP deals.

### Get PMP Deals List

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/pmp/deals/list</span>

<div class="container">
  <div class="child1">
 
Get a list of PMP deals based on desired filters available for user.

| Request Schema  |  |
| ---- | --- |
| `groupId` <br /><span class="type-text">integer</span> | Filters PMP Deals by Group ID |
| `active` | boolean | Filters for active (`true`) or inactive (`false`) deals |
| `searchKeywords` <br /><span class="type-text">array of strings</span> | Strings used to search by `dealId`, `dealName`, or description |
| `creativeTypes` <br /><span class="type-text">array of integers</span> | Creative type IDs |
| `exchanges` <br /><span class="type-text">array of integers</span> | Exchanges IDs |
| `ids` <br /><span class="type-text">array of integers</span> | PMP Deal IDs |
| `dealStatuses` <br /><span class="type-text">array of strings</span> | Deal statuses, allowed values: `inUse`, `unUsed`, and `inActive` |
| `owIds` <br /><span class="type-text">array of integers</span> | Organization Workspace IDs |
| `pageNo` <br /><span class="type-text">integer</span> | Pages of retrieved details desired, default: `1` |
| `noOfEntries` <br /><span class="type-text">integer</span>| Maximum number of deals to retrieve, default: `50` |
| `sortBy` <br /><span class="type-text">string</span>| Ascending= `+dealId`, descending= `-dealId` |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "groupId": 1,
    "active": true,
    "searchKeywords": [
        "keyword1",
        "keyword2"
    ],
    "creativeTypes": [
        1,
        2,
        3
    ],
    "exchanges": [
        1,
        2,
        3,
        4
    ],
    "ids": [
        1,
        2,
        3,
        4
    ],
    "dealStatuses": [
        "inUse",
        "unUsed",
        "inActive"
    ],
    "sortBy": "-dealId",
    "noOfEntries": 2,
    "pageNo": 1
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "filteredRecords": 1,
        "filteredList": [
            {
                "id": 115,
                "dealId": "1476907757380667148",
                "dealName": "85%+ Completion",
                "description": "85%+ Completion",
                "cpm": 20,
                "dealCurationTypeId": 1,
                "creativeTypes": [
                    "video"
                ],
                "exchanges": [
                    "Oath"
                ],
                "active": true,
                "shared": false,
                "created": 1597658148,
                "assignedToCustomers": [
                    1,
                    2
                ],
                "assignedToCampaigns": [
                    11223,
                    65333
                ]
            }
        ]
    }
}
```

<details>
<summary>More Responses</summary>

```json title="Response 422"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Invalid sortBy value."
        }
    ]
}
```

```json title="Response 500"
{
    "success": false,
    "errorObjects": [
        {
            "error": "server encountered an error !"
        }
    ]
}
```

</details>

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          filteredRecords: number;
          filteredList: {
            id: number;
            dealId: number;
            dealName: string;
            description: string;
            cpm: number;
            dealCurationTypeId: number;
            creativeTypes: string[];
            exchanges: string[];
            active: boolean;
            shared: boolean;
            created: number;
            assignedToCustomers: number[];
            assignedToCampaigns: number[];
          }[]
        }
      }
    };
  };
}

function getPMPDealList(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/list',
    requestBody: {
      content: {
        "application/json": {
          searchBy?: `array of strings`,
          groupId?: `number`;
          active?: `boolean`;
          owIds?: `array of numbers`,
          pagination?: `string`;
          pageNo?: `number`;
          noOfEntries?: `number`;
          sortBy?: `string`;
          searchField?: `string`;
          order?: `string`,
          offset?: `number`;
          ids?: `array of numbers`,
          searchKeywords?: `array of strings`,
          creativeTypes?: `array of numbers`,
          exchanges?: `array of numbers`,
          dealStatuses?: `array of strings`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>


</div></div>

---
### Get PMP Deal Details by IDs

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/pmp/deals/\{id\}</span>

<div class="container">
  <div class="child1">

| Path Parameters |  |
| ---- | --- |
| `id` <br /><span class="type-text">integer</span>| PMP Deal ID |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 459,
    "dealId": "BySuper_toAdvertiser",
    "dealName": "BySuper_toAdvertiser_stageSharedOnly",
    "description": "BySuper_toAdvertiser",
    "cpm": 10,
    "dealCurationTypeId": 2,
    "creativeTypes": [
      "html",
      "video",
      "native"
    ],
    "exchanges": [
      "Equativ"
    ],
    "active": true,
    "created": 1716877559,
    "assignedToCustomers": [
      201427
    ],
    "assignedToCampaigns": [
      2046372,
      2053221
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          dealId: string;
          dealName: string;
          description: string;
          cpm: number;
          dealCurationTypeId: number;
          creativeTypes: string[];
          exchanges: string[];
          active: boolean;
          created: number;
          assignedToCustomers: number[];
          assignedToCampaigns: number[]
        }
      }
    };
  };
}

function getPMPDealDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/{id}',
    params: {
      path: {
        id: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Customers Associated with Campaigns for a PMP Deal

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/pmp/deals/\{dealId\}/associated-customers</span>

<div class="container">
  <div class="child1">

| Path Parameters |  |
| ---- | --- |
| `dealId` <br /><span class="type-text">integer</span>| PMP Deal ID |

| Query Parameters |  |
| ---- | --- |
| `owIds` <br /><span class="type-text">integer</span>| Organization Workspace IDs |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    201427
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: number[]
      }
    };
  };
}

function fetchAssociatedCustomersForPMPDeal(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/{dealId}/associated-customers',
    params: {
      path: {
        dealId: `number`
      },
      query?: {
        owIds?: `array of numbers`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Count of PMP Deals for All statuses

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/pmp/deals/count-by-status</span>

<div class="container">
  <div class="child1">

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "All": 351,
    "inActive": 48,
    "inUse": 266,
    "unUsed": 37
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          All: number;
          inActive: number;
          inUse: number;
          unUsed: number
        }
      }
    };
  };
}

function getPMPDealsCountByStatus(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/count-by-status',
    params: {
      query?: {
        searchKeywords?: `array of strings`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Deal Types

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/static/deal-types</span>

<div class="container">
  <div class="child1">

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 2,
    "filteredRecords": 2,
    "dealTypeList": [
      {
        "displayName": "PMP Deal",
        "name": "PMP deal",
        "id": 1,
        "order": 1
      },
      {
        "displayName": "PG Deal",
        "name": "PG deal",
        "id": 2,
        "order": 2
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          dealTypeList: {
            displayName: string;
            name: string;
            id: number;
            order: number;
          }[];
        }
      }
    };
  };
}

function getDealTypes(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/static/deal-types',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Deal statuses

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/static/deal-status</span>

<div class="container">
  <div class="child1">

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "dealStatuses": [
      {
        "name": "active",
        "id": 1,
        "label": "Active",
        "order": 1
      },
      {
        "name": "inactive",
        "id": 2,
        "label": "Inactive",
        "order": 2
      }
    ],
    "totalRecords": 2,
    "filteredRecords": 2
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          dealStatuses: {
            displayName: string;
            name: string;
            id: number;
            order: number;
          }[];
        }
      }
    };
  };
}

function getDealStatuses(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/static/deal-status',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## PMP Management

Create, update, or delete PMP Deals using the methods and endpoints outlined in this section.

### Resource Properties

Create or update PMP Deals using the following properties in the Request Body Schema.

<div class="container">
  <div class="child3">

| Attributes |  |
| ---- | --- |
| `dealId` <br /><span class="type-text">string</span> | PMP Deal ID |
| `dealName` <br /><span class="type-text">string</span> | PMP Deal name |
| `description` <br /><span class="type-text">string</span> | PMP Deal description |
| `cpm` <br /><span class="type-text">integer</span> | PMP deal Cost Per Mille (CPM) value |
| `dealCurationTypeId` <br /><span class="type-text">integer</span> | Curation type ID |
| `creativeTypes` <br /><span class="type-text">array of integers</span> | Creative type IDs |
| `exchangeId` <br /><span class="type-text">integer</span> | Exchange associated with PMP Deal |
| `assignToCustomers` <br /><span class="type-text">array of integers</span> | Customer Organization Workspace IDs |
| `active` <br /><span class="type-text">boolean</span> | Deal status, active= `true`, inactive= `false` |

</div></div>

### Create PMP Deal

<span class="badge badge--success">POST</span> <span class="path-text">api/v3/inv/pmp/deals/add</span>

<div class="container">
  <div class="child1">

Create a new PMP Deal using the above [resource properties](#resource-properties) as the request schema

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "dealId": "DIewkFZALX1taoLjQg6Gge1dD6YvZYO4RChUKmOLk",
    "dealName": "Deal test123",
    "description": "test deal description",
    "cpm": 10,
    "creativeTypes": [
        11,
        12
    ],
    "exchangeId": 39,
    "active": true
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 461,
        "message": "Deal test123 created successfully"
    }
}
```

<details>
<summary>More Responses</summary>

```json title="Response 400"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Deal id can not be longer than 500 characters",
            "field": "dealId"
        }
    ]
}
```

```json title="Response 422"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Invalid exchange id/ids provided"
        }
    ]
}
```

```json title="Response 500"
{
    "success": false,
    "errorObjects": [
        {
            "error": "server encountered an error !"
        }
    ]
}
```

</details>

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        }
      }
    };
  };
  400: {
    content: {
      "application/json": {
        success: boolean;
        errorObjects: {
          error: string;
          field: string;
        }[];
      }
    };
  };
  422: {
    content: {
      "application/json": {
        success: boolean;
        errorObjects: {
          error: string;
        }[];
      }
    };
  };
  500: {
    content: {
      "application/json": {
        success: boolean;
        errorObjects: {
          error: string;
        }[];
      }
    };
  };
}

function addPMPDeal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/add',
    requestBody: {
      content: {
        "application/json": {
          dealId: `string`,
          dealName: `string`,
          description?: `string`,
          cpm?: `number`,
          dealCurationTypeId?: `number`,
          creativeTypes?: `array of numbers`,
          exchangeId: `number`,
          assignToCustomers?: `array of numbers`,
          active: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update PMP Deal

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/inv/pmp/deals/\{id\}</span>

<div class="container">
  <div class="child1">

Update any [resource property](#resource-properties) of an existing PMP Deal with its ID.

| Path Parameters |  |
| ----| --- |
| `id` <br /><span class="type-text">integer</span> | PMP Deal ID


</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "dealName": "New Deal Name"
}

```

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 461,
        "message": "New Deal Name updated successfully"
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        }
      }
    };
  };
}

function editPMPDeal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals/{id}',
    params: {
      path: {
        id: `number`
      }
    }
    requestBody: {
      content: {
        "application/json": {
          id: `string`,
          dealId: `string`,
          dealName: `string`,
          description?: `string`,
          cpm?: `number`,
          dealCurationTypeId?: `number`,
          creativeTypes?: `array of numbers`,
          exchangeId: `number`,
          assignToCustomers?: `array of numbers`,
          active: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete PMP Deal

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/inv/pmp/deals</span>

<div class="container">
  <div class="child1">

Delete an existing PMP Deal.


| Query Parameters |  |
| ---- | --- |
| `ids` <br /><span class="type-text">list of integers</span> | PMP Deal IDs to delete |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": [
            470,
            471
        ],
        "message": "Deal/s deleted successfully"
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number[];
          message: string;
        }
      }
    };
  };
}

function deletePMPDeal(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/inv/pmp/deals',
    params: {
      path: {
        ids: `array of numbers`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## Programmatic Guarantee (PG) Deals Details

A Programmatic Guarantee Deal is a direct negotiation between one publisher and one advertiser offering budget predictability and avoiding auction volatility by ensuring a fixed amount of ad inventory at a pre-negotiated price. This section will cover common methods and endpoints associated with PG Deals.

### Get PG Deals List

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/pg/deals/list</span>

<div class="container">
  <div class="child1">

Get a list of PG deals available for user.

| Query Parameters |  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Search results by keyword |
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of deals to retrieve, default: `20` |
| `pageNo` <br /><span class="type-text">integer</span> |  Pages of retrieved details desired, default: `1` |
| `sortBy` <br /><span class="type-text">string</span> | Sort results by ascending (`+`) or descending (`-`), supported values: `id`, `dealName`, `cmp` <br />Default: `-id` |
| `ids` <br /><span class="type-text">array of integers</span> | IDs of the primary key of PG Deals |
| `paymentTypeIds` <br /><span class="type-text">array of integers</span> | Payment type IDs |
| `statusIds` <br /><span class="type-text">array of integers</span> | Status IDs |
| `exchangeIds` <br /><span class="type-text">array of integers</span> | Exchange IDs |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "totalRecords": 61,
        "filteredRecords": 4,
        "pgDealData": [
            {
                "id": 873,
                "dealId": "PM-RTY-98765",
                "dealName": "Demo Deal D4",
                "statusId": 1,
                "description": "Demo deal description D4",
                "paymentTypeId": 2,
                "exchangeId": 11,
                "created": 1719723041347,
                "activeCampaignIds": [],
                "otherCampaignIds": [
                    506172,
                    506173,
                    506174,
                    506175,
                    506176,
                    506177,
                    506178
                ],
                "deleteAllowed": true
            },
            {
                "id": 872,
                "dealId": "PM-QWE-54321",
                "dealName": "Sample Deal C3",
                "statusId": 1,
                "description": "Sample deal description C3",
                "paymentTypeId": 2,
                "exchangeId": 78,
                "created": 1719722247192,
                "activeCampaignIds": [
                    506162,
                    506161,
                    506160
                ],
                "otherCampaignIds": [
                    506163,
                    506166,
                    506165,
                    506164
                ],
                "deleteAllowed": false
            },
            ...
        ]
    }
}
```

<details>
<summary>More Responses</summary>

```json title="Response 401"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Unauthorized"
        }
    ]
}
```

```json title="Response 422"
{
    "success": false,
    "errorObjects": [
        {
            "error": "Invalid sortBy value."
        }
    ]
}
```

```json title="Response 500"
{
    "success": false,
    "errorObjects": [
        {
            "error": "server encountered an error !"
        }
    ]
}
```

</details>

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          pgDealData: {
            id: number;
            dealId: number;
            statusId: number;
            description: string;
            paymentTypeId: number;
            exchangeId: number;
            created: number;
            activeCampaigns: number[];
            otherCampaignIds: number[];
            deleteAllowed: boolean;
          }[];
        }
      }
    };
  };
}

function fetchPGDealList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/pg/deals/list',
    params: {
      query?: {
        searchField?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`,
        sortBy?: `string`,
        exchangeId?: `string`,
        ids?: `array of numbers`,
        paymentTypeIds?: `array of numbers`,
        statusIds?: `array of numbers`,
        exchangeIds?: `array of numbers`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get PG Deals Details by ID

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/inv/pg/deals/\{id\}</span>

<div class="container">
  <div class="child1">

Get PG Deal details by specified ID including its associated campaign IDs.  

| Path Parameters  |  |
| ----  | --- |
| `id` <br /><span class="type-text">integer</span> | PG Deal ID

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 872,
        "dealId": "PM-QWE-54321",
        "dealName": "Sample Deal C3",
        "statusId": 1,
        "description": "Sample deal description C3",
        "paymentTypeId": 2,
        "exchangeId": 78,
        "created": 1719722247192,
        "activeCampaignIds": [
            506160,
            506161,
            506162
        ],
        "otherCampaignIds": [
            506163,
            506164,
            506165,
            506166
        ]
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          pgDealData: {
            id: number;
            dealId: number;
            statusId: number;
            description: string;
            paymentTypeId: number;
            exchangeId: number;
            created: number;
            activeCampaigns: number[];
            otherCampaignIds: number[];
          }[];
        }
      }
    };
  };
}

function getPGDealById(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/inv/pg/deals/{id}',
    params: {
      path: {
        id: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## PG Management

Create, update, or delete PG Deals using the methods and endpoints outlined in this section.

### Resource Properties

Create or update PG Deals using the following properties in the Request Body Schema.

<div class="container">
  <div class="child3">

| Attributes  |  |
| ---- | --- |
| `dealId` <br /><span class="type-text">string</span> | PG Deal ID |
| `dealName` <br /><span class="type-text">string</span>| PG Deal name |
| `exchangeId` <br /><span class="type-text">integer</span> | Exchange ID associated with PG Deal | 
| `cpm` <br /><span class="type-text">integer</span> | Cost Per Mille (CPM) value |
| `statusId` <br /><span class="type-text">integer</span> | Status ID of PG Deal |
| `description` <br /><span class="type-text">string</span> | Description or notes about the deal |
| `paymentTypeId` <br /><span class="type-text">integer</span> | Payment type ID of PG Deal

</div></div>

---

### Create PG Deal

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/inv/pg/deals/add</span>

<div class="container">
  <div class="child1">

Create a new PG Deal with the following endpoint:

Refer to [PG Deal resource properties](#resource-properties-1) above for schema. 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "dealId": "YT-Test-1234",
    "dealName": "Test deal YT31",
    "exchangeId": 11,
    "statusId": 2,
    "paymentTypeId": 1,
    "description": "Test Deal"
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "message": "Deal Test deal YT31 created successfully",
        "id": 2
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
          id: number;
        }
      }
    };
  };
}

function addPGDeal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/inv/pg/deals/add',
    requestBody: {
      content: {
        "application/json": {
          dealId: `string`
          dealName: `string`,
          exchangeId: `number`,
          statusId: `number`,
          description?: `string`,
          owId?: `number`,
          paymentTypeId?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update PG Deal Details

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/inv/pg/deals/\{id\}</span>

<div class="container">
  <div class="child1">

Update specific details of a PG Deal.

| Path Parameters |  |
| ---- | --- |
| `id` <br /><span class="type-text">integer</span> | PG Deal ID |

Refer to [PG Deal resource properties](#resource-properties-1) above for request schema. 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "dealId": "PM-ABC-12345",
    "dealName": "Premium Advertising Package",
    "statusId": 2,
    "description": "Comprehensive advertising package including display, video, and social media placements for maximum exposure.",
    "cpm": 40,
    "paymentTypeId": 2,
    "exchangeId": 11
}
```

```json title="Response 200"
{
    "success": true,
    "data": "PG deal updated successfully"
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string;
      }
    };
  };
}

function updatePGDeal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/inv/pg/deals/{id}',
    parms: {
      path: {
        id: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          dealId: `string`
          dealName: `string`,
          exchangeId: `number`,
          statusId: `number`,
          description?: `string`,
          owId?: `number`,
          paymentTypeId?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete PG Deal

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/inv/pg/deals</span>

<div class="container">
  <div class="child1">

Delete an existing PG Deal.

| Query Parameters |  |
| ---- | --- |
| `ids` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Comma separated PG Deal IDs to delete |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": "PG Deal deleted successfully"
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string;
      }
    };
  };
}

function deletePGDeals(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/inv/pg/deals',
    parms: {
      query: {
        ids: `array of numbers`
      }
    },
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---
