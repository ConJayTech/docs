---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Planner API

## Overview

### Authentication

Use the following header parameters for all requests:

  <div class="smallTable">

| Headers  |  |
| ----  | --- |
| `Authentication` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Authentication bearer token <br />See [Authentication Guide](/docs/Quickstart%20Guides/Authentication-Quickstart-Guide) |
| `X-IAA-OW-ID` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Organization Worskpace ID Header |

</div>

## Proposal Details

### Get Proposal Details by ID

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/proposal/\{proposalId}</span>

<div class="container">
  <div class="child1">

Get proposal details by ID.

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | Proposal ID |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200 (Draft proposal)"
{
    "success": true,
    "data":
    {
        "id": 14,
        "name": "sample",
        "startTime": 1730658720000,
        "endTime": 1733250720000,
        "status": 2,
        "politicalAdvertiserId": 0,
        "marginValue": null,
        "owId": 202500,
        "proposalTargeting":
        {
            "location":
            {
                "country": 1,
                "states":
                [
                    1,
                    2,
                    3
                ],
                "dma":
                [
                    1,
                    2,
                    3
                ],
                "city":
                [
                    1,
                    2,
                    3
                ],
                "county":
                [
                    1,
                    2,
                    3
                ],
                "congressionalDistricts":
                [
                    1,
                    2,
                    3
                ],
                "stateHouse":
                [
                    1,
                    2,
                    3
                ],
                "stateSenate":
                [
                    1,
                    2,
                    3
                ],
                "zipCodes": null,
                "locationAdvanceTargeted":
                [
                    "city",
                    "state"
                ],
                "advanceTargeted": false
            },
            "audience":
            {
                "audienceSegmentIds":
                [
                    6387630,
                    6387631,
                    6387632,
                    6387633,
                    6387634
                ],
                "advanceTargeted": false
            },
            "creative":
            {
                "creativeTypeIds":
                [
                    13
                ],
                "tvAutoBuying": false
            },
            "inventory":
            {
                "openExchangeInventory":
                {
                    "iabCategories":
                    [
                        1,
                        2
                    ],
                    "exchanges":
                    [
                        11,
                        16,
                        19
                    ]
                },
                "inventoryGroupIds":
                [],
                "advanceTargeted": false
            },
            "device":
            {
                "deviceTypesTargetedIds":
                [],
                "channelTypesTargetedIds":
                [],
                "deviceTypesAdvanceTargetedIds":
                [
                    1,
                    2
                ],
                "advanceTargeted": false
            }
        }
    }
}
```

```json title="Response 200 (Ready proposal)"
{
    "success": "true",
    "data":
    {
        "id": 14,
        "name": "sample",
        "startTime": 1730658720000,
        "endTime": 1733250720000,
        "status": 3,
        "targetedReach": 2147483646,
        "targetedImpressions": 2147483646,
        "maxTargetedReach": 2147483646,
        "maxTargetedImpressions": 2147483646,
        "budget": 0.0,
        "maxBudget": 0.0,
        "owId": 202500,
        "proposedCampaigns":
        [
            {
                "id": 1234,
                "name": "Demo_Campaign_For_proposal",
                "startTime": 1730658720000,
                "endTime": 1733250720000,
                "strategy": "strategy",
                "creativeTypeId": 1,
                "duration": 30,
                "modelType": "cpm",
                "targetedReach": 1234,
                "maxTargetedReach": 12345566,
                "frequencyCap": 3,
                "targetedImpressions": 123,
                "maxTargetedImpressions": 12345,
                "cpm": 5.0,
                "minCpm": 3.5,
                "maxCpm": 1000.0,
                "budget": 1000.0,
                "maxBudget": 1000.0
            }
        ]
    }
}
```

```json title="Response 403"
{
  "success": false,
  "errorObjects": [
    {
      "error": "Requested Resource is not accessible for the user"
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts title="Draft Proposal"
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          startTime: number;
          endTime: number;
          status: number;
          politicalAdvertiserId: number;
          marginValue: number;
          owId: number;
          proposalTargeting: {
            location: {
              country: number;
              states: number[];
              dma: number[];
              city: number[];
              county: number[];
              congressionalDistricts: number[];
              stateHouse: number[];
              stateSenate: number[];
              zipCodes: string;
              locationAdvanceTargeted: string[];
              advanceTargeted: boolean;
            };
            audience: {
              audienceSegmentIds: number[];
              advanceTargeted: boolean;
            };
            creative: {
              creativeTypeIds: number[];
              tvAutoBuying: boolean;
            };
            inventory: {
              openExchangeInventory: {
                iabCategories: number[];
                exchanges: number[];
              };
              inventoryGroupIds: number[];
              advanceTargeted: boolean;
            };
            device: {
              deviceTypesTargetedIds: number[];
              channelTypesTargetedIds: number[];
              deviceTypesAdvanceTargetedIds: number[];
              advanceTargeted: boolean;
            }
          }
        };
      };
    };
  };
}

function getProposalDetailsById(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

```ts title="Ready Proposal"
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          startTime: number;
          endTime: number;
          status: number;
          targetedReach: number;
          targetedImpresions: number;
          maxTargetedReach: number;
          maxTargetedImpressions: number;
          budget: number;
          maxBudget: number;
          owId: number;
          proposedCampaigns: {
            id: number;
            name: string;
            startTime: number;
            endTime: number;
            strategy: string;
            creativeTypeId: number;
            duration: number;
            modelType: string;
            targetedReach: number;
            maxTargetedReach: number;
            frequencyCap: number;
            targetedImpressions: number;
            maxTargetedImpressions: number;
            cpm: number;
            minCpm: number;
            maxCpm: number;
            budget: number;
            maxBudget: number;
          }[];
        };
      };
    };
  };
}

function getProposalDetailsById(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Proposals

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/proposals</span>

<div class="container">
  <div class="child1">

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "proposalDetailList": [
      {
        "id": 6,
        "name": "planner-proposal-2",
        "statusId": 2,
        "createdOn": 1234567,
        "userAvatarUrl": "https://sample-c92d6b6cbde1.s3.com/avatar/sample.png",
        "reach": 4567,
        "impression": 345678,
        "ioId": null,
        "budget": 23423,
        "startDate": 1728890609000,
        "endDate": 1728990609000,
        "createdBy": "user1"
      },
      {
        "id": 7,
        "name": "planner-proposal-3",
        "statusId": 1,
        "createdOn": 1234567,
        "userAvatarUrl": "https://sample-c92d6b6cbde1.s3.com/avatar/sample.png",
        "reach": 4567,
        "impression": 345678,
        "ioId": 1,
        "budget": 23423,
        "startDate": 1728890609000,
        "endDate": 1728990609000,
        "createdBy": "user2"
      }
    ],
    "totalRecords": 7,
    "filteredRecords": 7,
    "recordsTotal": {
      "totalBudget": 23,
      "totalImpressions": 3865464
    }
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          proposalDetailList: {
            id: number;
            name: string;
            statusId: number;
            createdOn: number;
            userAvaturUrl: string;
            reach: number;
            impressions: number;
            ioId: number;
            budget: number;
            startDate: number;
            endDate: number;
            createdBy: string;
          }[];
          totalRecords: number;
          filteredRecords: number;
          recordsTotal: {
            totalBudget: number;
            totalImpressions: number;
          }
        };
      };
    };
  };
}

function proposalDetailList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposals',
    params: {
      query: {
        searchField?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`,
        sortBy?: `string`,
        statusIds?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

### Proposal Reach and Impressions Summary

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan//proposal-summary/reach-impressions</span>

<div class="container">
  <div class="child1">

Get summary of maximum reach and impressions for different targeting parameters in a proposal based on statistics and historical serving data. 

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated zip code IDs</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "impressions": 105409776517,
    "reach": 210368111
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          impressions: number;
          reach: number;
        };
      };
    };
  };
}

function getReachAndImpressions(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal-summary/reach-impressions',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Device Type Summary

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal-summary/device-type</span>

<div class="container">
  <div class="child1">

Get summary of impressions distribution for different device types targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated zip code IDs</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "deviceTypes": [
      {
        "device": "Mobile",
        "percentage": 38.86,
        "impressions": 21402990540
      },
      {
        "device": "Desktop",
        "percentage": 11.63,
        "impressions": 6399597393
      },
      {
        "device": "CTV",
        "percentage": 47.89,
        "impressions": 26376959052
      },
      {
        "device": "Tablet",
        "percentage": 1.63,
        "impressions": 898221564
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          deviceTypes: {
            device: string;
            precentage: number;
            impressions: number;
          }[];
        };
      };
    };
  };
}

function getDeviceTypeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal-summary/device-type',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Channel Type Summary

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal-summary/channel-type</span>

<div class="container">
  <div class="child1">

Get summary of impressions distribution for different channel types targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated zip code IDs</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "channelTypes": [
      {
        "channel": "App",
        "percentage": 22.36,
        "impressions": 12314443086
      },
      {
        "channel": "Web",
        "percentage": 29.65,
        "impressions": 16326324495
      },
      {
        "channel": "CTV",
        "percentage": 47.89,
        "impressions": 26376959052
      },
      {
        "channel": "OTT",
        "percentage": 0.11,
        "impressions": 60041916
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          channelTypes: {
            channel: string;
            precentage: number;
            impressions: number;
          }[];
        };
      };
    };
  };
}

function getChannelTypeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal-summary/channel-type',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Bid Landscape Summary

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal-summary/bid-landscape</span>

<div class="container">
  <div class="child1">

Get summary of impressions distribution for different bid landscapes targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated zip code IDs</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "HTML": [
      {
        "percentile": 0,
        "cpm": 0,
        "impressions": 0
      },
      {
        "percentile": 10,
        "cpm": 0.001,
        "impressions": 2719219
      },
      {
        "percentile": 20,
        "cpm": 0.01,
        "impressions": 27192810
      },
      {
        "percentile": 100,
        "cpm": 3.0072,
        "impressions": 271029139123
      }
    ],
    "Video": [
      {
        "percentile": 0,
        "cpm": 0,
        "impressions": 0
      },
      {
        "percentile": 10,
        "cpm": 0.003,
        "impressions": 2719219
      },
      {
        "percentile": 20,
        "cpm": 0.05,
        "impressions": 27192810
      },
      {
        "percentile": 100,
        "cpm": 10.372,
        "impressions": 271029139123
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          HTML: {
            percentile: number;
            cpm: number;
            impressions: number;
          }[];
          Video: {
            percentile: number;
            cpm: number;
            impressions: number;
          }
        };
      };
    };
  };
}

function getBidLandscapeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal-summary/bid-landscape',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download Proposal

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/proposal/\{proposalId}/download</span>

<div class="container">
  <div class="child1">

Get download URL for proposals with statuses: ready, failed, converted, or expired. 

| Query Parameters | |
| --- | --- |
| `fileType` <br /><span class="type-text">string</span> | Type of file to download<br />Excel: `1` <br />CSV: `2`
| `proposalId` <br /><span class="type-text">string</span> | Proposal ID 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "proposalReportUrl": "https://example.s3.amazonaws.com/planner/proposal/report/34567890iuhgvbhjio987654456789oijhbvbjio9876"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          proposalReportUrl: string;
        };
      };
    };
  };
}

function generateS3LinkForDownloadProposal(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}/download',
    params: {
      path: {
        proposalId: `number`
      },
      query: {
        fileType: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Proposal Management

### Create Proposal

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal/add</span>

<div class="container">
  <div class="child1">

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>End time</td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>Advertiser ID</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country`<br /><span class="type-text">array of integers</span> </td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "id": "11",
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner generated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function createProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal/add',
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          id?: `number`,
          reach?: `number`,
          maxReach?: `number`,
          impressions?: `number`,
          maxImpressions?: `number`,
          frequencyCap?: `number`,
          budget?: `number`,
          maxBudget?: `number`,
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Draft Proposal

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal/draft</span>

<div class="container">
  <div class="child1">

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>End time</td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>Advertiser ID</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country`<br /><span class="type-text">array of integers</span> </td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "id": "11",
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner generated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function addDraftProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal/draft',
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Proposal

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/plan/proposal/\{proposalId}</span>

<div class="container">
  <div class="child1">

Update proposal details. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | Proposal ID |

<table>
<th>Request Schema</th>
<tr>
<td>`proposalName` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`proposalStartTime` <br /><span class="type-text">integer</span></td>
<td>Proposal start time</td>
</tr>
<tr>
<td>`proposalEndTime` <br /><span class="type-text">integer</span></td>
<td>Proposal end time</td>
</tr>
<tr>
<td>`politicalAdvertiserId` <br /><span class="type-text">integer</span></td>
<td>Political advertiser ID</td>
</tr>
<tr>
<td>`proposalStatusId` <br /><span class="type-text">integer</span></td>
<td>Proposal status ID</td>
</tr>
<tr>
<td>`proposalReach` <br /><span class="type-text">integer</span></td>
<td>Proposal reach</td>
</tr>
<tr>
<td>`proposalMaxReach` <br /><span class="type-text">integer</span></td>
<td>Proposal max reach</td>
</tr>
<tr>
<td>`proposalImpressions` <br /><span class="type-text">integer</span></td>
<td>Proposal impressions</td>
</tr>
<tr>
<td>`proposalMaxImpressions` <br /><span class="type-text">integer</span></td>
<td>Location</td>
</tr>
<tr>
<td>`proposalBudget` <br /><span class="type-text">integer</span></td>
<td>Proposal budget</td>
</tr>
<tr>
<td>`proposalMaxBudget` <br /><span class="type-text">integer</span></td>
<td>Location</td>
</tr>
<tr>
<td>`campaigns` <br /><span class="type-text">object</span></td>
<td>Campaign data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`campaigns` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`id`<br /><span class="type-text">integer</span></td>
    <td>Campaign ID</td>
  </tr>
    <tr>
    <td>`name`<br /><span class="type-text">string</span></td>
    <td>Campaign name</td>
  </tr>
  <tr>
    <td>`startTime`<br /><span class="type-text">integer</span></td>
    <td>Start time</td>
  </tr>
  <tr>
    <td>`endTime`<br /><span class="type-text">integer</span></td>
    <td>End time</td>
  </tr>
  <tr>
    <td>`reach`<br /><span class="type-text">integer</span></td>
    <td>Reach</td>
  </tr>
  <tr>
    <td>`frequencyCap`<br /><span class="type-text">integer</span></td>
    <td>Frequency cap</td>
  </tr>
  <tr>
    <td>`impressions`<br /><span class="type-text">integer</span></td>
    <td>Impressions</td>
  </tr>
  <tr>
    <td>`cpm`<br /><span class="type-text">integer</span></td>
    <td>CPM</td>
  </tr>
  <tr>
    <td>`budget`<br /><span class="type-text">integer</span></td>
    <td>Campaign budget</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`deletedCampaignIds` <br /><span class="type-text">array of integers</span></td>
  <td>Deleted campaign IDs</td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "proposalName": "proposalName",
  "proposalStartTime": 1729449000000,
  "proposalEndTime": 1730313000000,
  "politicalAdvertiserId": 644,
  "proposalStatusId": 6,
  "proposalReach": 150000,
  "proposalMaxReach": 150000,
  "proposalImpressions": 112500000,
  "proposalMaxImpressions": 112500000,
  "proposalBudget": 1125000,
  "proposalMaxBudget": 1125000,
  "campaigns": [
    {
      "id": 1,
      "name": "Proposal",
      "startTime": 1729449000000,
      "endTime": 1730313000000,
      "reach": 150000,
      "frequencyCap": 3,
      "impressions": 4500000,
      "cpm": 1,
      "budget": 4500
    }
  ],
  "deletedCampaignIds": [
    3,
    4
  ]
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Proposal updated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function editReadyProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {

          proposalId?: `number`,
          proposalName?: `string`,
          proposalStartTime?: `number`,
          proposalEndTime?: `number`,
          proposalStatusId?: `number`,
          proposalReach?: `number`,
          proposalMaxReach?: `number`,
          proposalImpressions?: `number`,
          proposalMaxImpressions?: `number`,
          politicalAdvertiserId?: `number`,
          proposalBudget?: `number`,
          proposalMaxBudget?: `number`,
          proposalOwId?: `number`,
          campaigns?: {
            id?: `number`,
            name?: `string`,
            startTime?: `number`,
            endTime?: `number`,
            durationInDays?: `number`,
            reach?: `number`,
            maxReach?: `number`,
            impressions?: `number`,
            maxImpressions?: `number`,
            cpm?: `number`,
            minCpm?: `number`,
            frequencyCap?: `number`,
            budget?: `number`,
            maxBudget?: `number`,
            proposalId?: `number`,
            campaignId?: `number`,
            timeZoneId?: `number`,
            owId?: `number`,
            strategy?: `string`,
            location?: {
              country: `number`,
              states?: `array of numbers`,
              dma?: `array of numbers`,
              city?: `array of numbers`,
              county?: `array of numbers`,
              congressionalDistricts?: `array of numbers`,
              stateHouse?: `array of numbers`,
              stateSenate?: `array of numbers`,
              zipCodes?: `string`,
              isAdvanceTargeted?: `boolean`,
              locationAdvanceTargeted?: `array of numbers`,
            },
            audience?: {
              audienceSegmentIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`,
            },
            creative?: {
              creativeTypeIds?: `array of numbers`,
              isTvAutoBuying?: `boolean`,
            },
            inventory?: {
              openExchangeInventory?: {
                iabCategories?: `array of numbers`,
                exchanges?: `array of numbers`,
              },
              inventoryGroupIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`;
            },
            device?: {
              deviceTypesTargetedIds?: `array of numbers`,
              channelTypesTargetedIds?: `array of numbers`,
              deviceTypesAdvanceTargetedIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`,
            },
            locationStrategy?: `string`,
            audienceStrategy?: `string`,
            inventoryStrategy?: `string`,
            deviceStrategy?: `string`,
            deleted?: `boolean`,
          }[],
          deletedCampaignIds?: `array of numbers`,
          proposalMargin?: `number`,
          ioId?: `number`,
          proposalCreatedByUowId?: `number`,
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Draft Proposal

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/plan/proposal/draft/\{proposalId}</span>

<div class="container">
  <div class="child1">

Update draft proposal details. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | Proposal ID |

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>End time</td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>Advertiser ID</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country`<br /><span class="type-text">array of integers</span> </td>
    <td>Country ID</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>States ID</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>DMA ID</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>City ID</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>County ID</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>Congressional district ID</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>State house ID</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>State senate ID</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>Creative type ID</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>IAB category ID</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>Exchange ID</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>Zip code ID</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>Zip code ID</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner updated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function updateDraftProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/plan/proposal/draft/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function updateDraftProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/plan/proposal/draft/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

### Generate Campaigns for Ready Proposal

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal/\{proposalId}/campaigns</span>

<div class="container">
  <div class="child1">

Validate the proposal details and update its status to in-progress. Campaign will then be generated. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | Proposal ID |



</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Campaign generation is in progress"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function generateIOCampaigns(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}/campaigns',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Restore Proposal

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/plan/proposals/restore</span>

<div class="container">
  <div class="child1">

| Request Schema | |
| --- | --- |
| `proposalIds` <br /><span class="type-text">array of integers</span> | Proposal IDs
| `startTime` <br /><span class="type-text">integer</span> | start time
| `endTime` <br /><span class="type-text">integer</span> | end time 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "proposalIds": [
    2,
    3
  ],
  "startTime": 1212121212,
  "endTime": 1512121212
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Proposal restored successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function restoreReadyProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v3/plan/proposals/restore',
    requestBody: {
      content: {
        "application/json": {
          proposalIds: `array of numbers`,
          startTime: `number`,
          endTime: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

### Duplicate Proposal

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/plan/proposal/\{proposalId}/duplicate</span>

<div class="container">
  <div class="child1">

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | Proposal ID |

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "proposalName": "Copy of proposal 3",
  "startTime": 1732023982000,
  "endTime": 1732053982000
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        proposalName: string;
        startTime: number;
        endTime: number;
      };
    };
  };
}

function createDuplicateProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/plan/proposal/{proposalId}/duplicate',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete Proposal

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/plan/proposal</span>

<div class="container">
  <div class="child1">

| Query Parameters | |
| --- | --- |
| `proposalIds` <br /><span class="type-text">string</span> | Comma separated proposal IDs

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "sampleProposal deleted successfully."
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string
        }
      };
    };
  };
}

function softDeleteProposal(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/plan/proposal',
    params: {
      query: {
        proposalIds: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## More Details

### Proposal Status List

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/static/proposal/status</span>

<div class="container">
  <div class="child1">

Get list of proposal status IDs.

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 6,
    "filteredRecords": 6,
    "proposalStatusList": [
      {
        "name": "draft",
        "id": 2,
        "label": "Draft",
        "order": 1
      },
      {
        "name": "ready",
        "id": 6,
        "label": "Ready",
        "order": 2
      },
      {
        "name": "expired",
        "id": 3,
        "label": "Expired",
        "order": 3
      },
      {
        "name": "processing",
        "id": 5,
        "label": "Processing",
        "order": 4
      },
      {
        "name": "converted",
        "id": 1,
        "label": "Converted",
        "order": 5
      },
      {
        "name": "failed",
        "id": 4,
        "label": "Failed",
        "order": 6
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          proposalStatusList: {
            name: string;
            id: number;
            label: string;
            order: number;
          }[];
        }
      };
    };
  };
}

function ProposalStatusList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/static/proposal/status',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Summary Parameters List

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/proposal-summary/supported-params</span>

<div class="container">
  <div class="child1">

Get list of supported parameters for proposal summaries. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "bidLandscape": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "deviceGraph": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "channelGraph": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "reachImpressions": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    }
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          bidLandscape: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          deviceGraph: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          channelGraph: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          reachImpressions: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          }
        }
      };
    };
  };
}

function getSupportedParameters(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposal-summary/supported-params',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get User Access Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/plan/proposal/margin</span>

<div class="container">
  <div class="child1">

Get user access details of logged-in organization's parent organizations. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "parentOrganisationAccess": true,
    "adminOrganisationAccess": true,
    "marginValue": 6
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [`prerequisites`](/docs/Getting%20Started/Typescript-Prerequisites.mdx) for TypeScript usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          parentOrganisationAccess: boolean;
          adminOrganisationAccess: boolean;
          marginValue: number;
        }
      };
    };
  };
}

function getDefaultCustomerMargin(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/plan/proposal/margin',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

